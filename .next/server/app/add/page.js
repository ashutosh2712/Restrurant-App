(()=>{var e={};e.id=853,e.ids=[853],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},21712:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(74988),a(89116),a(35866);var r=a(23191),s=a(88716),n=a(37922),i=a.n(n),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,74988)),"C:\\Users\\ashu0\\Desktop\\My Projects\\restrurantapp\\src\\app\\add\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,89116)),"C:\\Users\\ashu0\\Desktop\\My Projects\\restrurantapp\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\ashu0\\Desktop\\My Projects\\restrurantapp\\src\\app\\add\\page.tsx"],p="/add/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/add/page",pathname:"/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},25214:(e,t,a)=>{Promise.resolve().then(a.bind(a,11809))},35047:(e,t,a)=>{"use strict";var r=a(77389);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},11809:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(10326),s=a(77109),n=a(46226),i=a(35047),l=a(17577),o=a(29394);let d=()=>{let{data:e,status:t}=(0,s.useSession)(),[a,d]=(0,l.useState)({title:"",desc:"",price:"",catSlug:""}),[c,p]=(0,l.useState)({title:"",additionalPrice:0}),[u,x]=(0,l.useState)([]),[h,m]=(0,l.useState)(),g=(0,i.useRouter)();if("loading"===t)return r.jsx("p",{children:"Loading..."});"unauthenticated"!==t&&e?.user.isAdmin||g.push("/");let f=e=>{d(t=>{let{name:a,value:r}=e.target;return{...t,[a]:r}})},j=e=>{let{name:t,value:a}=e.target;p(e=>({...e,[t]:"additionalPrice"===t?parseFloat(a)||0:a}))},y=async()=>{let e=new FormData;e.append("file",h),e.append("upload_preset","restrurantapp");let t=await fetch("https://api.cloudinary.com/v1_1/deeuxev50/image/upload",{method:"POST",body:e});return(await t.json()).url},v=async e=>{e.preventDefault();try{let e=await y(),t=parseFloat(a.price),r=await fetch("https://restrurant.live-projects-ashutosh.com/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({img:e,...a,price:t.toString(),options:u})}),s=await r.json();g.push(`/product/${s.id}`),o.Am.success("The product has been added!")}catch(e){console.log(e)}};return r.jsx("div",{className:"p-4 lg:px-20 xl:px-40 flex items-center justify-center text-orange-500",children:(0,r.jsxs)("form",{className:"flex flex-wrap gap-6",onSubmit:v,children:[r.jsx("h1",{children:"Add New Product"}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-2 ",children:[(0,r.jsxs)("label",{className:"text-sm cursor-pointer flex gap-4 items-center",htmlFor:"file",children:[r.jsx(n.default,{src:"/upload.png",alt:"",width:64,height:64}),r.jsx("span",{children:"Upload Image"})]}),r.jsx("input",{type:"file",onChange:e=>{m(e.target.files[0])},id:"file",className:"hidden"})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col",children:[r.jsx("label",{children:"Title"}),r.jsx("input",{onChange:f,className:"ring-1 ring-orange-200 p-4 rounded-sm placeholder:text-orange-200 outline-none",type:"text",placeholder:"Bella Napoli",name:"title"})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col",children:[r.jsx("label",{children:"Desc"}),r.jsx("textarea",{onChange:f,className:"ring-1 ring-orange-200 p-4 rounded-sm placeholder:text-orange-200 outline-none",name:"desc",placeholder:"A timeless favorite with a twist, showcasing a thin crust topped with sweet tomatoes, fresh basil and creamy mozzarella."})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col",children:[r.jsx("label",{children:"Price"}),r.jsx("input",{onChange:f,className:"ring-1 ring-orange-200 p-4 rounded-sm placeholder:text-orange-200 outline-none",type:"text",placeholder:"29",name:"price"})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col",children:[r.jsx("label",{children:"Category"}),r.jsx("input",{onChange:f,className:"ring-1 ring-orange-200 p-4 rounded-sm  placeholder:text-orange-200 outline-none",type:"text",placeholder:"pizzas",name:"catSlug"})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[r.jsx("label",{children:"Options"}),(0,r.jsxs)("div",{children:[r.jsx("input",{onChange:j,className:"ring-1 ring-orange-200 p-4 rounded-sm placeholder:text-orange-200 outline-none",type:"text",placeholder:"Title",name:"title"}),r.jsx("input",{onChange:j,className:"ring-1 ring-orange-200 p-4 rounded-sm placeholder:text-orange-200 outline-none",type:"number",placeholder:"Additonal Price",name:"additionalPrice"})]}),r.jsx("div",{className:"bg-gray-500 p-2 w-48 rounded-md text-white",onClick:()=>x(e=>[...e,c]),children:"Add Option"})]}),r.jsx("div",{children:u.map(e=>(0,r.jsxs)("div",{className:"p-2  rounded-md cursor-pointer bg-gray-200 text-gray-400",onClick:()=>x(u.filter(t=>t.title!==e.title)),children:[r.jsx("span",{children:e.title}),(0,r.jsxs)("span",{children:["$",e.additionalPrice]})]},e.title))}),r.jsx("button",{type:"submit",className:"bg-orange-500 p-4 text-white w-48 rounded-md relative h-14 flex items-center justify-center",children:"Submit"})]})})}},74988:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=a(68570);let s=(0,r.createProxy)(String.raw`C:\Users\ashu0\Desktop\My Projects\restrurantapp\src\app\add\page.tsx`),{__esModule:n,$$typeof:i}=s;s.default;let l=(0,r.createProxy)(String.raw`C:\Users\ashu0\Desktop\My Projects\restrurantapp\src\app\add\page.tsx#default`)},73881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(66621);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,386,621,268],()=>a(21712));module.exports=r})();