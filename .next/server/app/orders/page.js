(()=>{var e={};e.id=569,e.ids=[569],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},20953:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>x,tree:()=>c}),s(25925),s(89116),s(35866);var r=s(23191),a=s(88716),n=s(37922),i=s.n(n),o=s(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let c=["",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,25925)),"C:\\Users\\ashu0\\Desktop\\My Projects\\restrurantapp\\src\\app\\orders\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,89116)),"C:\\Users\\ashu0\\Desktop\\My Projects\\restrurantapp\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\ashu0\\Desktop\\My Projects\\restrurantapp\\src\\app\\orders\\page.tsx"],u="/orders/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/orders/page",pathname:"/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},79208:(e,t,s)=>{Promise.resolve().then(s.bind(s,61772))},35047:(e,t,s)=>{"use strict";var r=s(77389);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},61772:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(10326),a=s(77109),n=s(46226),i=s(35047);s(17577);var o=s(2994),d=s(29394);let c="https://restrurant.live-projects-ashutosh.com",l=()=>{let{data:e,status:t}=(0,a.useSession)(),s=(0,i.useRouter)();"unauthenticated"===t&&s.push("/");let{isLoading:l,error:u,data:p}=(0,o.useQuery)("orders",()=>fetch(`${c}/api/orders`).then(e=>e.json())),x=(0,o.useQueryClient)(),h=(0,o.useMutation)({mutationFn:({id:e,status:t})=>fetch(`${c}/api/orders/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),onSuccess(){x.invalidateQueries({queryKey:["orders"]})}}),m=(e,t)=>{e.preventDefault();let s=e.target.elements[0].value;h.mutate({id:t,status:s}),d.Am.success("Order status Has been Changed!")};return l||"loading"===t?"Loading...":r.jsx("div",{className:"p-4 lg:px-20 xl:px-40",children:(0,r.jsxs)("table",{className:"w-full border-separate border-spacing-3",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"text-left",children:[r.jsx("th",{className:"hidden md:block",children:"Order ID"}),r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Price"}),r.jsx("th",{className:"hidden md:block",children:"Products"}),r.jsx("th",{children:"Status"})]})}),r.jsx("tbody",{children:p.map(t=>(0,r.jsxs)("tr",{className:"text-sm md:text-base odd:bg-gray-200 even:bg-gray-50",children:[r.jsx("td",{className:"hidden md:block py-5 px-1",children:t.id}),r.jsx("td",{className:"py-5 px-1",children:t.createdAt.toString().slice(0,10)}),r.jsx("td",{className:"py-5 px-1",children:t.price}),r.jsx("td",{className:"hidden md:block py-5 px-1",children:t.products[0].title}),e?.user.isAdmin?r.jsx("td",{className:"py-5 px-1",children:(0,r.jsxs)("form",{className:"flex items-center justify-center gap-4",onSubmit:e=>m(e,t.id),children:[r.jsx("input",{placeholder:t.status,className:"p-2 ring ring-orange-100 rounded-md"}),r.jsx("button",{children:r.jsx(n.default,{src:"/edit.png",alt:"",width:20,height:20})})]})}):r.jsx("td",{className:"py-5 px-1",children:t.status})]},t.id))})]})})}},25925:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var r=s(68570);let a=(0,r.createProxy)(String.raw`C:\Users\ashu0\Desktop\My Projects\restrurantapp\src\app\orders\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,r.createProxy)(String.raw`C:\Users\ashu0\Desktop\My Projects\restrurantapp\src\app\orders\page.tsx#default`)},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(66621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,386,621,268],()=>s(20953));module.exports=r})();